# ุชุญุฏูุซ ุชุฑุชูุจ ุงููุฑุงูุฒ ูู ุตูุญุฉ ุงูููุชุฑูู

## ุงูุชุญุฏูุซ ุงูุฌุฏูุฏ

### ๐ฏ ุงููุฏู
ุชุทุจูู ููุณ ูุธุงู ุงูุชุฑุชูุจ ุงููุณุชุฎุฏู ูู ุตูุญุฉ ุงููุฑุงูู ุงูุทุจูุฉ ุนูู ุตูุญุฉ ุงูููุชุฑูู ูุถูุงู ุงูุชูุงุณู ูู ุนุฑุถ ุงููุฑุงูุฒ.

### ๐ ูุธุงู ุงูุชุฑุชูุจ ุงููุทุจู

#### ุงูุชุฑุชูุจ ูู ุตูุญุฉ ุงูููุชุฑูู:
1. **ุงููุฑุงูุฒ ุงูููุนูุฉ ุฃููุงู** (`available: true`)
   - ูุฑุชุจุฉ ุญุณุจ ุญูู `order` ุชุตุงุนุฏูุงู (1ุ 2ุ 3ุ ุฅูุฎ)
   - ุชุธูุฑ ูู ุฃุนูู ุงููุงุฆูุฉ

2. **ุงููุฑุงูุฒ ุบูุฑ ุงูููุนูุฉ ุซุงููุงู** (`available: false`)
   - ูุฑุชุจุฉ ุญุณุจ ุญูู `order` ุชุตุงุนุฏูุงู (1ุ 2ุ 3ุ ุฅูุฎ)
   - ุชุธูุฑ ุจุนุฏ ุงููุฑุงูุฒ ุงูููุนูุฉ

### ๐ง ุงูุชุนุฏููุงุช ุงูุชูููุฉ

#### ุฏุงูุฉ `_filterCenters` ุงููุญุฏุซุฉ:
```dart
List<QueryDocumentSnapshot> _filterCenters(List<QueryDocumentSnapshot> centers) {
  // ุชุฑุชูุจ ุงููุฑุงูุฒ ุฃููุงู
  final sortedCenters = List<QueryDocumentSnapshot>.from(centers);
  sortedCenters.sort((a, b) {
    try {
      final aData = a.data() as Map<String, dynamic>;
      final bData = b.data() as Map<String, dynamic>;
      
      // ุงูุชุญูู ูู ุญุงูุฉ ุงูุชูุนูู ุฃููุงู
      final aAvailable = aData['available'] as bool? ?? false;
      final bAvailable = bData['available'] as bool? ?? false;
      
      // ุฅุฐุง ูุงู ุฃุญุฏููุง ููุนู ูุงูุขุฎุฑ ุบูุฑ ููุนูุ ุงูููุนู ูุฃุชู ุฃููุงู
      if (aAvailable != bAvailable) {
        return aAvailable ? -1 : 1;
      }
      
      // ุฅุฐุง ูุงู ููุงููุง ููุนูุ ุชุฑุชูุจ ุญุณุจ order
      if (aAvailable && bAvailable) {
        final aOrder = aData['order'] as int? ?? 999;
        final bOrder = bData['order'] as int? ?? 999;
        return aOrder.compareTo(bOrder);
      }
      
      // ุฅุฐุง ูุงู ููุงููุง ุบูุฑ ููุนูุ ุชุฑุชูุจ ุญุณุจ order
      final aOrder = aData['order'] as int? ?? 999;
      final bOrder = bData['order'] as int? ?? 999;
      return aOrder.compareTo(bOrder);
    } catch (e) {
      return 0;
    }
  });
  
  // ุซู ุชุทุจูู ุงูุจุญุซ
  if (_searchQuery.isEmpty) return sortedCenters;
  
  return sortedCenters.where((center) {
    final data = center.data() as Map<String, dynamic>;
    final name = data['name']?.toString().toLowerCase() ?? '';
    final searchLower = _searchQuery.toLowerCase();
    
    return name.contains(searchLower);
  }).toList();
}
```

### ๐จ ุชุญุณููุงุช ูุงุฌูุฉ ุงููุณุชุฎุฏู

#### ุนุฑุถ ุงูุชุฑุชูุจ ูู ุงููุงุฆูุฉ:
- **ุฃููููุฉ ุงูุชุฑุชูุจ**: ุฅุถุงูุฉ ุฃููููุฉ `Icons.sort` ุจุงูููู ุงูุฃุฒุฑู
- **ุฑูู ุงูุชุฑุชูุจ**: ุนุฑุถ ุฑูู ุงูุชุฑุชูุจ ููู ูุฑูุฒ
- **ุงูุชุตููู**: ุชุฑุชูุจ ููุทูู ูุน ุญุงูุฉ ุงูุชูุนูู

#### ูุซุงู ููุนุฑุถ:
```
โ ููุนู    ๐ข ุชุฑุชูุจ: 1
โ ููุนู    ๐ข ุชุฑุชูุจ: 2
โ ุบูุฑ ููุนู ๐ข ุชุฑุชูุจ: 1
โ ุบูุฑ ููุนู ๐ข ุชุฑุชูุจ: 2
```

### ๐ฑ ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู

#### ูููุฏูุฑูู:
- **ูุถูุญ ุงูุชุฑุชูุจ**: ูููู ุฑุคูุฉ ุชุฑุชูุจ ูู ูุฑูุฒ ุจุณูููุฉ
- **ุชูุงุณู ุงูุนุฑุถ**: ููุณ ุงูุชุฑุชูุจ ูู ุฌููุน ุงูุตูุญุงุช
- **ุณูููุฉ ุงูุฅุฏุงุฑุฉ**: ูุนุฑูุฉ ุงูุชุฑุชูุจ ุงูุญุงูู ููู ูุฑูุฒ
- **ุชุญุณูู ุงูุฃุฏุงุก**: ุชุฑุชูุจ ูุญูู ุณุฑูุน

#### ุงููููุฒุงุช ุงูุฌุฏูุฏุฉ:
- **ุชุฑุชูุจ ุฐูู**: ุญุณุจ ุงูุญุงูุฉ ูุงูุชุฑุชูุจ
- **ุนุฑุถ ูุฑุฆู**: ุฃููููุงุช ูุฃููุงู ูุงุถุญุฉ
- **ุชูุงุณู ูุงูู**: ููุณ ุงููุธุงู ูู ุฌููุน ุงูุตูุญุงุช
- **ุณูููุฉ ุงูุงุณุชุฎุฏุงู**: ูุงุฌูุฉ ูุงุถุญุฉ ููููููุฉ

### ๐ ุงูุชูุงูู

#### ูุน ุงููุธุงู ุงูุญุงูู:
- **ุงููุฑุงูุฒ ุงููุฏููุฉ**: ุชุนูู ุจุฏูู ูุดุงูู
- **ุงููุฑุงูุฒ ุงูุฌุฏูุฏุฉ**: ุชุฏุนู ุงููุธุงู ุงูุฌุฏูุฏ
- **ุงูุจุญุซ**: ูุนูู ูุน ุงูุชุฑุชูุจ ุงูุฌุฏูุฏ
- **ุงูุชุญุฏูุซุงุช**: ุชุญุงูุธ ุนูู ุงูุชุฑุชูุจ

### ๐ ููููุฉ ุงูุงุณุชุฎุฏุงู

#### ุนุฑุถ ุงูุชุฑุชูุจ:
1. ุงูุชูู ุฅูู ุตูุญุฉ ุงูููุชุฑูู
2. ุณุชุฌุฏ ุงููุฑุงูุฒ ูุฑุชุจุฉ ุญุณุจ:
   - ุงููุฑุงูุฒ ุงูููุนูุฉ ุฃููุงู
   - ุงููุฑุงูุฒ ุบูุฑ ุงูููุนูุฉ ุซุงููุงู
3. ูู ูุฑูุฒ ูุนุฑุถ:
   - ุญุงูุฉ ุงูุชูุนูู (ููุนู/ุบูุฑ ููุนู)
   - ุฑูู ุงูุชุฑุชูุจ

#### ุชุนุฏูู ุงูุชุฑุชูุจ:
1. ุงุถุบุท ุนูู ุฒุฑ ุงูุชุนุฏูู ุจุฌุงูุจ ุงููุฑูุฒ
2. ุนุฏู ุญูู "ุชุฑุชูุจ ุงููุฑูุฒ"
3. ุงุญูุธ ุงูุชุบููุฑุงุช
4. ุณูุชู ุชุญุฏูุซ ุงูุชุฑุชูุจ ุชููุงุฆูุงู

### ๐ฏ ุงููุชูุฌุฉ ุงูููุงุฆูุฉ

ุงูุขู ุตูุญุฉ ุงูููุชุฑูู ุชุนุฑุถ ุงููุฑุงูุฒ ุจููุณ ุงูุชุฑุชูุจ ุงููุณุชุฎุฏู ูู ุตูุญุฉ ุงููุฑุงูู ุงูุทุจูุฉ:

1. **ุงููุฑุงูุฒ ุงูููุนูุฉ** (ูุฑุชุจุฉ ุญุณุจ ุงูุฃููููุฉ)
2. **ุงููุฑุงูุฒ ุบูุฑ ุงูููุนูุฉ** (ูุฑุชุจุฉ ุญุณุจ ุงูุฃููููุฉ)

ูุน ุฅุถุงูุฉ ุนุฑุถ ูุงุถุญ ูุฑูู ุงูุชุฑุชูุจ ููู ูุฑูุฒ! ๐

### ๐ง ุงููููุงุช ุงููุญุฏุซุฉ

- โ `lib/screnns/control_panel_screen.dart`
  - ุชุญุฏูุซ ุฏุงูุฉ `_filterCenters`
  - ุฅุถุงูุฉ ุนุฑุถ ุงูุชุฑุชูุจ ูู ุงููุงุฆูุฉ
  - ุชุญุณูู ูุงุฌูุฉ ุงููุณุชุฎุฏู

### ๐ ููุงุฑูุฉ ูุจู ูุจุนุฏ

#### ูุจู ุงูุชุญุฏูุซ:
- ุชุฑุชูุจ ุนุดูุงุฆู ูููุฑุงูุฒ
- ุนุฏู ูุถูุญ ุงูุชุฑุชูุจ
- ุชูุงูุถ ูุน ุตูุญุฉ ุงููุฑุงูู

#### ุจุนุฏ ุงูุชุญุฏูุซ:
- ุชุฑุชูุจ ููุทูู ููุชูุงุณู
- ุนุฑุถ ูุงุถุญ ููุชุฑุชูุจ
- ุชูุงุณู ูุงูู ูุน ุฌููุน ุงูุตูุญุงุช
